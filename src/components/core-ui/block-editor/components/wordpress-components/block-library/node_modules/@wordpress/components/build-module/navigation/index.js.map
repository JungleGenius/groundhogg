{"version":3,"sources":["@wordpress/components/src/navigation/index.js"],"names":["classnames","noop","useEffect","useRef","useState","Animate","ROOT_MENU","NavigationContext","NavigationUI","useCreateNavigationTree","Navigation","activeItem","activeMenu","children","className","onActivateMenu","menu","setMenu","slideOrigin","setSlideOrigin","navigationTree","setActiveMenu","menuId","slideInOrigin","getMenu","isMounted","current","context","classes","origin","animateClassName"],"mappings":";;;;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,IAAT,QAAqB,QAArB;AAEA;;;;AAGA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,oBAA5C;AAEA;;;;AAGA,OAAOC,OAAP,MAAoB,YAApB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,iBAAT,QAAkC,WAAlC;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,uBAAT,QAAwC,8BAAxC;AAEA,eAAe,SAASC,UAAT,OAMX;AAAA,MALHC,UAKG,QALHA,UAKG;AAAA,6BAJHC,UAIG;AAAA,MAJHA,UAIG,gCAJUN,SAIV;AAAA,MAHHO,QAGG,QAHHA,QAGG;AAAA,MAFHC,SAEG,QAFHA,SAEG;AAAA,iCADHC,cACG;AAAA,MADHA,cACG,oCADcd,IACd;;AAAA,kBACuBG,QAAQ,CAAEQ,UAAF,CAD/B;AAAA;AAAA,MACKI,IADL;AAAA,MACWC,OADX;;AAAA,mBAEqCb,QAAQ,EAF7C;AAAA;AAAA,MAEKc,WAFL;AAAA,MAEkBC,cAFlB;;AAGH,MAAMC,cAAc,GAAGX,uBAAuB,EAA9C;;AAEA,MAAMY,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,MAAF,EAAsC;AAAA,QAA5BC,aAA4B,uEAAZ,MAAY;;AAC3D,QAAK,CAAEH,cAAc,CAACI,OAAf,CAAwBF,MAAxB,CAAP,EAA0C;AACzC;AACA;;AAEDH,IAAAA,cAAc,CAAEI,aAAF,CAAd;AACAN,IAAAA,OAAO,CAAEK,MAAF,CAAP;AACAP,IAAAA,cAAc,CAAEO,MAAF,CAAd;AACA,GARD,CALG,CAeH;;;AACA,MAAMG,SAAS,GAAGtB,MAAM,CAAE,KAAF,CAAxB;AACAD,EAAAA,SAAS,CAAE,YAAM;AAChB,QAAK,CAAEuB,SAAS,CAACC,OAAjB,EAA2B;AAC1BD,MAAAA,SAAS,CAACC,OAAV,GAAoB,IAApB;AACA;AACD,GAJQ,EAIN,EAJM,CAAT;AAMAxB,EAAAA,SAAS,CAAE,YAAM;AAChB,QAAKU,UAAU,KAAKI,IAApB,EAA2B;AAC1BK,MAAAA,aAAa,CAAET,UAAF,CAAb;AACA;AACD,GAJQ,EAIN,CAAEA,UAAF,CAJM,CAAT;AAMA,MAAMe,OAAO,GAAG;AACfhB,IAAAA,UAAU,EAAVA,UADe;AAEfC,IAAAA,UAAU,EAAEI,IAFG;AAGfK,IAAAA,aAAa,EAAbA,aAHe;AAIfD,IAAAA,cAAc,EAAdA;AAJe,GAAhB;AAOA,MAAMQ,OAAO,GAAG5B,UAAU,CAAE,uBAAF,EAA2Bc,SAA3B,CAA1B;AAEA,SACC,cAAC,YAAD;AAAc,IAAA,SAAS,EAAGc;AAA1B,KACC,cAAC,OAAD;AACC,IAAA,GAAG,EAAGZ,IADP;AAEC,IAAA,IAAI,EAAC,UAFN;AAGC,IAAA,OAAO,EAAG;AAAEa,MAAAA,MAAM,EAAEX;AAAV;AAHX,KAKG;AAAA,QAAeY,gBAAf,SAAIhB,SAAJ;AAAA,WACD;AACC,MAAA,SAAS,EAAGd,UAAU,qBACnB8B,gBADmB,EAEpBL,SAAS,CAACC,OAAV,IAAqBR,WAFD;AADvB,OAMC,cAAC,iBAAD,CAAmB,QAAnB;AAA4B,MAAA,KAAK,EAAGS;AAApC,OACGd,QADH,CAND,CADC;AAAA,GALH,CADD,CADD;AAsBA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Animate from '../animate';\nimport { ROOT_MENU } from './constants';\nimport { NavigationContext } from './context';\nimport { NavigationUI } from './styles/navigation-styles';\nimport { useCreateNavigationTree } from './use-create-navigation-tree';\n\nexport default function Navigation( {\n\tactiveItem,\n\tactiveMenu = ROOT_MENU,\n\tchildren,\n\tclassName,\n\tonActivateMenu = noop,\n} ) {\n\tconst [ menu, setMenu ] = useState( activeMenu );\n\tconst [ slideOrigin, setSlideOrigin ] = useState();\n\tconst navigationTree = useCreateNavigationTree();\n\n\tconst setActiveMenu = ( menuId, slideInOrigin = 'left' ) => {\n\t\tif ( ! navigationTree.getMenu( menuId ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetSlideOrigin( slideInOrigin );\n\t\tsetMenu( menuId );\n\t\tonActivateMenu( menuId );\n\t};\n\n\t// Used to prevent the sliding animation on mount\n\tconst isMounted = useRef( false );\n\tuseEffect( () => {\n\t\tif ( ! isMounted.current ) {\n\t\t\tisMounted.current = true;\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( activeMenu !== menu ) {\n\t\t\tsetActiveMenu( activeMenu );\n\t\t}\n\t}, [ activeMenu ] );\n\n\tconst context = {\n\t\tactiveItem,\n\t\tactiveMenu: menu,\n\t\tsetActiveMenu,\n\t\tnavigationTree,\n\t};\n\n\tconst classes = classnames( 'components-navigation', className );\n\n\treturn (\n\t\t<NavigationUI className={ classes }>\n\t\t\t<Animate\n\t\t\t\tkey={ menu }\n\t\t\t\ttype=\"slide-in\"\n\t\t\t\toptions={ { origin: slideOrigin } }\n\t\t\t>\n\t\t\t\t{ ( { className: animateClassName } ) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t[ animateClassName ]:\n\t\t\t\t\t\t\t\tisMounted.current && slideOrigin,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigationContext.Provider value={ context }>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</NavigationContext.Provider>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</Animate>\n\t\t</NavigationUI>\n\t);\n}\n"]}