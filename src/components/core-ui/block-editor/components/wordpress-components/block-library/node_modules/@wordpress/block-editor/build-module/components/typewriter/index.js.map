{"version":3,"sources":["@wordpress/block-editor/src/components/typewriter/index.js"],"names":["Component","createRef","computeCaretRect","getScrollContainer","withSelect","UP","DOWN","LEFT","RIGHT","isIE","window","navigator","userAgent","indexOf","arrowKeyCodes","Set","initialTriggerPercentage","Typewriter","arguments","ref","onKeyDown","bind","addSelectionChangeListener","computeCaretRectOnSelectionChange","maintainCaretPosition","onScrollResize","isSelectionEligibleForScroll","getDocument","getWindow","addEventListener","removeEventListener","rafId","cancelAnimationFrame","current","ownerDocument","defaultView","caretRect","requestAnimationFrame","props","selectedBlockClientId","contains","activeElement","isContentEditable","editableNodes","querySelectorAll","lastEditableNode","length","keyCode","currentCaretRect","has","diff","top","scrollContainer","windowScroll","body","scrollY","scrollTop","scrollContainerY","getBoundingClientRect","relativeScrollPosition","innerHeight","isLastEditableNode","scrollContainerHeight","clientHeight","height","scrollBy","event","persist","children","TypewriterOrIEBypass","select","getSelectedBlockClientId"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Component, createRef } from '@wordpress/element';\nimport { computeCaretRect, getScrollContainer } from '@wordpress/dom';\nimport { withSelect } from '@wordpress/data';\nimport { UP, DOWN, LEFT, RIGHT } from '@wordpress/keycodes';\n\n/** @typedef {import('@wordpress/element').WPSyntheticEvent} WPSyntheticEvent */\n\nconst isIE = window.navigator.userAgent.indexOf( 'Trident' ) !== -1;\nconst arrowKeyCodes = new Set( [ UP, DOWN, LEFT, RIGHT ] );\nconst initialTriggerPercentage = 0.75;\n\nclass Typewriter extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.ref = createRef();\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.addSelectionChangeListener = this.addSelectionChangeListener.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.computeCaretRectOnSelectionChange = this.computeCaretRectOnSelectionChange.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.maintainCaretPosition = this.maintainCaretPosition.bind( this );\n\t\tthis.computeCaretRect = this.computeCaretRect.bind( this );\n\t\tthis.onScrollResize = this.onScrollResize.bind( this );\n\t\tthis.isSelectionEligibleForScroll = this.isSelectionEligibleForScroll.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.getDocument = this.getDocument.bind( this );\n\t\tthis.getWindow = this.getWindow.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\t// When the user scrolls or resizes, the scroll position should be\n\t\t// reset.\n\t\tthis.getWindow().addEventListener(\n\t\t\t'scroll',\n\t\t\tthis.onScrollResize,\n\t\t\ttrue\n\t\t);\n\t\tthis.getWindow().addEventListener(\n\t\t\t'resize',\n\t\t\tthis.onScrollResize,\n\t\t\ttrue\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.getWindow().removeEventListener(\n\t\t\t'scroll',\n\t\t\tthis.onScrollResize,\n\t\t\ttrue\n\t\t);\n\t\tthis.getWindow().removeEventListener(\n\t\t\t'resize',\n\t\t\tthis.onScrollResize,\n\t\t\ttrue\n\t\t);\n\t\tthis.getDocument().removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\n\t\tif ( this.onScrollResize.rafId ) {\n\t\t\tthis.getWindow().cancelAnimationFrame( this.onScrollResize.rafId );\n\t\t}\n\n\t\tif ( this.onKeyDown.rafId ) {\n\t\t\tthis.getWindow().cancelAnimationFrame( this.onKeyDown.rafId );\n\t\t}\n\t}\n\n\tgetDocument() {\n\t\treturn this.ref.current.ownerDocument;\n\t}\n\n\tgetWindow() {\n\t\treturn this.getDocument().defaultView;\n\t}\n\n\t/**\n\t * Resets the scroll position to be maintained.\n\t */\n\tcomputeCaretRect() {\n\t\tif ( this.isSelectionEligibleForScroll() ) {\n\t\t\tthis.caretRect = computeCaretRect( this.getWindow() );\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to be maintained during a `selectionchange`\n\t * event. Also removes the listener, so it acts as a one-time listener.\n\t */\n\tcomputeCaretRectOnSelectionChange() {\n\t\tthis.getDocument().removeEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\t\tthis.computeCaretRect();\n\t}\n\n\tonScrollResize() {\n\t\tif ( this.onScrollResize.rafId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onScrollResize.rafId = this.getWindow().requestAnimationFrame(\n\t\t\t() => {\n\t\t\t\tthis.computeCaretRect();\n\t\t\t\tdelete this.onScrollResize.rafId;\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Checks if the current situation is elegible for scroll:\n\t * - There should be one and only one block selected.\n\t * - The component must contain the selection.\n\t * - The active element must be contenteditable.\n\t */\n\tisSelectionEligibleForScroll() {\n\t\treturn (\n\t\t\tthis.props.selectedBlockClientId &&\n\t\t\tthis.ref.current.contains( this.getDocument().activeElement ) &&\n\t\t\tthis.getDocument().activeElement.isContentEditable\n\t\t);\n\t}\n\n\tisLastEditableNode() {\n\t\tconst editableNodes = this.ref.current.querySelectorAll(\n\t\t\t'[contenteditable=\"true\"]'\n\t\t);\n\t\tconst lastEditableNode = editableNodes[ editableNodes.length - 1 ];\n\t\treturn lastEditableNode === this.getDocument().activeElement;\n\t}\n\n\t/**\n\t * Maintains the scroll position after a selection change caused by a\n\t * keyboard event.\n\t *\n\t * @param {WPSyntheticEvent} event Synthetic keyboard event.\n\t */\n\tmaintainCaretPosition( { keyCode } ) {\n\t\tif ( ! this.isSelectionEligibleForScroll() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentCaretRect = computeCaretRect( this.getWindow() );\n\n\t\tif ( ! currentCaretRect ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If for some reason there is no position set to be scrolled to, let\n\t\t// this be the position to be scrolled to in the future.\n\t\tif ( ! this.caretRect ) {\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\t// Even though enabling the typewriter effect for arrow keys results in\n\t\t// a pleasant experience, it may not be the case for everyone, so, for\n\t\t// now, let's disable it.\n\t\tif ( arrowKeyCodes.has( keyCode ) ) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tconst diff = currentCaretRect.top - this.caretRect.top;\n\n\t\tif ( diff === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = getScrollContainer( this.ref.current );\n\n\t\t// The page must be scrollable.\n\t\tif ( ! scrollContainer ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst windowScroll = scrollContainer === this.getDocument().body;\n\t\tconst scrollY = windowScroll\n\t\t\t? this.getWindow().scrollY\n\t\t\t: scrollContainer.scrollTop;\n\t\tconst scrollContainerY = windowScroll\n\t\t\t? 0\n\t\t\t: scrollContainer.getBoundingClientRect().top;\n\t\tconst relativeScrollPosition = windowScroll\n\t\t\t? this.caretRect.top / this.getWindow().innerHeight\n\t\t\t: ( this.caretRect.top - scrollContainerY ) /\n\t\t\t  ( this.getWindow().innerHeight - scrollContainerY );\n\n\t\t// If the scroll position is at the start, the active editable element\n\t\t// is the last one, and the caret is positioned within the initial\n\t\t// trigger percentage of the page, do not scroll the page.\n\t\t// The typewriter effect should not kick in until an empty page has been\n\t\t// filled with the initial trigger percentage or the user scrolls\n\t\t// intentionally down.\n\t\tif (\n\t\t\tscrollY === 0 &&\n\t\t\trelativeScrollPosition < initialTriggerPercentage &&\n\t\t\tthis.isLastEditableNode()\n\t\t) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainerHeight = windowScroll\n\t\t\t? this.getWindow().innerHeight\n\t\t\t: scrollContainer.clientHeight;\n\n\t\t// Abort if the target scroll position would scroll the caret out of\n\t\t// view.\n\t\tif (\n\t\t\t// The caret is under the lower fold.\n\t\t\tthis.caretRect.top + this.caretRect.height >\n\t\t\t\tscrollContainerY + scrollContainerHeight ||\n\t\t\t// The caret is above the upper fold.\n\t\t\tthis.caretRect.top < scrollContainerY\n\t\t) {\n\t\t\t// Reset the caret position to maintain.\n\t\t\tthis.caretRect = currentCaretRect;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( windowScroll ) {\n\t\t\tthis.getWindow().scrollBy( 0, diff );\n\t\t} else {\n\t\t\tscrollContainer.scrollTop += diff;\n\t\t}\n\t}\n\n\t/**\n\t * Adds a `selectionchange` listener to reset the scroll position to be\n\t * maintained.\n\t */\n\taddSelectionChangeListener() {\n\t\tthis.getDocument().addEventListener(\n\t\t\t'selectionchange',\n\t\t\tthis.computeCaretRectOnSelectionChange\n\t\t);\n\t}\n\n\tonKeyDown( event ) {\n\t\tevent.persist();\n\n\t\t// Ensure the any remaining request is cancelled.\n\t\tif ( this.onKeyDown.rafId ) {\n\t\t\tthis.getWindow().cancelAnimationFrame( this.onKeyDown.rafId );\n\t\t}\n\n\t\t// Use an animation frame for a smooth result.\n\t\tthis.onKeyDown.rafId = this.getWindow().requestAnimationFrame( () => {\n\t\t\tthis.maintainCaretPosition( event );\n\t\t\tdelete this.onKeyDown.rafId;\n\t\t} );\n\t}\n\n\trender() {\n\t\t// Disable reason: Wrapper itself is non-interactive, but must capture\n\t\t// bubbling events from children to determine focus transition intents.\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ this.ref }\n\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\tonKeyUp={ this.maintainCaretPosition }\n\t\t\t\tonMouseDown={ this.addSelectionChangeListener }\n\t\t\t\tonTouchStart={ this.addSelectionChangeListener }\n\t\t\t\tclassName=\"block-editor__typewriter\"\n\t\t\t>\n\t\t\t\t{ this.props.children }\n\t\t\t</div>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\t}\n}\n\n/**\n * The exported component. The implementation of Typewriter faced technical\n * challenges in Internet Explorer, and is simply skipped, rendering the given\n * props children instead.\n *\n * @type {WPComponent}\n */\nconst TypewriterOrIEBypass = isIE\n\t? ( props ) => props.children\n\t: withSelect( ( select ) => {\n\t\t\tconst { getSelectedBlockClientId } = select( 'core/block-editor' );\n\t\t\treturn { selectedBlockClientId: getSelectedBlockClientId() };\n\t  } )( Typewriter );\n\n/**\n * Ensures that the text selection keeps the same vertical distance from the\n * viewport during keyboard events within this component. The vertical distance\n * can vary. It is the last clicked or scrolled to position.\n */\nexport default TypewriterOrIEBypass;\n"]}