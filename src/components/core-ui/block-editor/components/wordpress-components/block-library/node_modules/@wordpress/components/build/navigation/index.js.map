{"version":3,"sources":["@wordpress/components/src/navigation/index.js"],"names":["Navigation","activeItem","activeMenu","ROOT_MENU","children","className","onActivateMenu","noop","menu","setMenu","slideOrigin","setSlideOrigin","navigationTree","setActiveMenu","menuId","slideInOrigin","getMenu","isMounted","current","context","classes","origin","animateClassName"],"mappings":";;;;;;;;;AASA;;;;;;AANA;;AACA;;AAUA;;AACA;;AACA;;AACA;;AACA;;AAlBA;;;;AAMA;;;;AAKA;;;AASe,SAASA,UAAT,OAMX;AAAA,MALHC,UAKG,QALHA,UAKG;AAAA,6BAJHC,UAIG;AAAA,MAJHA,UAIG,gCAJUC,oBAIV;AAAA,MAHHC,QAGG,QAHHA,QAGG;AAAA,MAFHC,SAEG,QAFHA,SAEG;AAAA,iCADHC,cACG;AAAA,MADHA,cACG,oCADcC,YACd;;AAAA,kBACuB,uBAAUL,UAAV,CADvB;AAAA;AAAA,MACKM,IADL;AAAA,MACWC,OADX;;AAAA,mBAEqC,wBAFrC;AAAA;AAAA,MAEKC,WAFL;AAAA,MAEkBC,cAFlB;;AAGH,MAAMC,cAAc,GAAG,uDAAvB;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,MAAF,EAAsC;AAAA,QAA5BC,aAA4B,uEAAZ,MAAY;;AAC3D,QAAK,CAAEH,cAAc,CAACI,OAAf,CAAwBF,MAAxB,CAAP,EAA0C;AACzC;AACA;;AAEDH,IAAAA,cAAc,CAAEI,aAAF,CAAd;AACAN,IAAAA,OAAO,CAAEK,MAAF,CAAP;AACAR,IAAAA,cAAc,CAAEQ,MAAF,CAAd;AACA,GARD,CALG,CAeH;;;AACA,MAAMG,SAAS,GAAG,qBAAQ,KAAR,CAAlB;AACA,0BAAW,YAAM;AAChB,QAAK,CAAEA,SAAS,CAACC,OAAjB,EAA2B;AAC1BD,MAAAA,SAAS,CAACC,OAAV,GAAoB,IAApB;AACA;AACD,GAJD,EAIG,EAJH;AAMA,0BAAW,YAAM;AAChB,QAAKhB,UAAU,KAAKM,IAApB,EAA2B;AAC1BK,MAAAA,aAAa,CAAEX,UAAF,CAAb;AACA;AACD,GAJD,EAIG,CAAEA,UAAF,CAJH;AAMA,MAAMiB,OAAO,GAAG;AACflB,IAAAA,UAAU,EAAVA,UADe;AAEfC,IAAAA,UAAU,EAAEM,IAFG;AAGfK,IAAAA,aAAa,EAAbA,aAHe;AAIfD,IAAAA,cAAc,EAAdA;AAJe,GAAhB;AAOA,MAAMQ,OAAO,GAAG,0BAAY,uBAAZ,EAAqCf,SAArC,CAAhB;AAEA,SACC,4BAAC,8BAAD;AAAc,IAAA,SAAS,EAAGe;AAA1B,KACC,4BAAC,gBAAD;AACC,IAAA,GAAG,EAAGZ,IADP;AAEC,IAAA,IAAI,EAAC,UAFN;AAGC,IAAA,OAAO,EAAG;AAAEa,MAAAA,MAAM,EAAEX;AAAV;AAHX,KAKG;AAAA,QAAeY,gBAAf,SAAIjB,SAAJ;AAAA,WACD;AACC,MAAA,SAAS,EAAG,4DACTiB,gBADS,EAEVL,SAAS,CAACC,OAAV,IAAqBR,WAFX;AADb,OAMC,4BAAC,0BAAD,CAAmB,QAAnB;AAA4B,MAAA,KAAK,EAAGS;AAApC,OACGf,QADH,CAND,CADC;AAAA,GALH,CADD,CADD;AAsBA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Animate from '../animate';\nimport { ROOT_MENU } from './constants';\nimport { NavigationContext } from './context';\nimport { NavigationUI } from './styles/navigation-styles';\nimport { useCreateNavigationTree } from './use-create-navigation-tree';\n\nexport default function Navigation( {\n\tactiveItem,\n\tactiveMenu = ROOT_MENU,\n\tchildren,\n\tclassName,\n\tonActivateMenu = noop,\n} ) {\n\tconst [ menu, setMenu ] = useState( activeMenu );\n\tconst [ slideOrigin, setSlideOrigin ] = useState();\n\tconst navigationTree = useCreateNavigationTree();\n\n\tconst setActiveMenu = ( menuId, slideInOrigin = 'left' ) => {\n\t\tif ( ! navigationTree.getMenu( menuId ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetSlideOrigin( slideInOrigin );\n\t\tsetMenu( menuId );\n\t\tonActivateMenu( menuId );\n\t};\n\n\t// Used to prevent the sliding animation on mount\n\tconst isMounted = useRef( false );\n\tuseEffect( () => {\n\t\tif ( ! isMounted.current ) {\n\t\t\tisMounted.current = true;\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( activeMenu !== menu ) {\n\t\t\tsetActiveMenu( activeMenu );\n\t\t}\n\t}, [ activeMenu ] );\n\n\tconst context = {\n\t\tactiveItem,\n\t\tactiveMenu: menu,\n\t\tsetActiveMenu,\n\t\tnavigationTree,\n\t};\n\n\tconst classes = classnames( 'components-navigation', className );\n\n\treturn (\n\t\t<NavigationUI className={ classes }>\n\t\t\t<Animate\n\t\t\t\tkey={ menu }\n\t\t\t\ttype=\"slide-in\"\n\t\t\t\toptions={ { origin: slideOrigin } }\n\t\t\t>\n\t\t\t\t{ ( { className: animateClassName } ) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t[ animateClassName ]:\n\t\t\t\t\t\t\t\tisMounted.current && slideOrigin,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigationContext.Provider value={ context }>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</NavigationContext.Provider>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</Animate>\n\t\t</NavigationUI>\n\t);\n}\n"]}