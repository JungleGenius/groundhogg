var Groundhogg=Groundhogg||{};!function(e,n,$){$.extend(e,{leadSource:"gh_referer",refID:"gh_ref_id",setCookie:function(e,n,o){var t=new Date;t.setTime(t.getTime()+24*o*60*60*1e3);var r="expires="+t.toUTCString();document.cookie=e+"="+n+";"+r+";path=/"},getCookie:function(e){for(var n=e+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){for(var r=o[t];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(n))return r.substring(n.length,r.length)}return null},pageView:function(){$.ajax({type:"post",url:n.page_view_endpoint,data:{ref:window.location.href,_ghnonce:n._ghnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",n._wpnonce)},success:function(e){},error:function(){}})},logFormImpressions:function(){var e=this,n=$(".gh-form");$.each(n,function(n,o){var t=$(o).find('input[name="step_id"]').val();e.formImpression(t)})},formImpression:function(e){var o=this;$.ajax({type:"post",url:n.form_impression_endpoint,dataType:"json",data:{ref:window.location.href,form_id:e,_ghnonce:n._ghnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",n._wpnonce)},success:function(e){void 0!==e.ref_id&&o.setCookie(o.refID,e.ref_id,30)},error:function(){}})},init:function(){this.getCookie(this.leadSource)||this.setCookie(this.leadSource,document.referrer,3),this.pageView(),this.logFormImpressions()}}),$(function(){e.init()})}(Groundhogg,gh_frontent_object,jQuery);