!function(e,$){$.extend(e,{leadSourceCookie:"gh-referer",formImpressionsCookie:"gh-form-impressions",previousFormImpressions:[],setCookie:function(e,o,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+o+";"+r+";path=/"},getCookie:function(e){for(var o=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(o))return r.substring(o.length,r.length)}return null},pageView:function(){var e=this;this.tracking_enabled&&$.ajax({type:"post",url:e.page_view_endpoint,data:{ref:window.location.href,_ghnonce:e._ghnonce},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",e._wpnonce)},success:function(e){},error:function(){}})},logFormImpressions:function(){var e=this,o=$(".gh-form");$.each(o,function(o,i){var n=$(i).find('input[name="gh_submit_form"]').val();e.formImpression(n)})},formImpression:function(e){var o=this;e&&-1===this.previousFormImpressions.indexOf(e)&&$.ajax({type:"post",url:o.form_impression_endpoint,dataType:"json",data:{ref:window.location.href,form_id:e,_ghnonce:o._ghnonce},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",o._wpnonce)},success:function(i){o.previousFormImpressions.push([e]),o.setCookie(o.formImpressionsCookie,o.previousFormImpressions.join(),3)},error:function(){}})},init:function(){this.getCookie(this.leadSourceCookie)||this.setCookie(this.leadSourceCookie,document.referrer,3);var e=this.getCookie(this.formImpressionsCookie);e||(e=""),this.previousFormImpressions=e.split(","),this.pageView(),this.logFormImpressions()}}),$(function(){e.init()})}(Groundhogg,jQuery);