var wpghEmailElement={};!function(i,$,t){i=$.extend(i,{ID:0,target:null,addingEmail:!1,editingEmail:!1,changesSaved:!1,init:function(){$(document).on("change",".gh-email-picker",function(i){var e="#source="+encodeURIComponent(t.path+"&action=edit&email="+$(this).val())+"&height=900&width=1500";i.ID=$(this).val(),i.target=$(this).closest(".postbox"),$(this).closest(".form-table").find(".edit-email").attr("href",e)}),$(document).on("click",".add-email",function(i){i.target=$(this).closest(".postbox"),i.addingEmail=!0,i.editingEmail=!1}),$(document).on("click",".edit-email",function(i){i.target=$(this).closest(".postbox"),i.addingEmail=!1,i.editingEmail=!0}),$(document).on("click",".popup-save",function(i){if(i.addingEmail||i.editingEmail){if(!i.changesSaved&&!confirm(t.dontSaveChangesMsg))throw new Error("Unsaved changes!");i.addingEmail&&i.target.find(".add-email-override").val(i.ID),i.addingEmail=!1,i.editingEmail=!1}})}}),$(function(){i.init()})}(wpghEmailElement,jQuery,wpghEmailsBase);