var wpghEmailElement;!function($,e){wpghEmailElement={ID:0,target:null,addingEmail:!1,editingEmail:!1,changesSaved:!1,init:function(){$(document).on("change",".gh-email-picker",function(i){var t="#source="+encodeURIComponent(e.path+"&action=edit&email="+$(this).val())+"&height=900&width=1500";wpghEmailElement.ID=$(this).val(),wpghEmailElement.target=$(this).closest(".postbox"),$(this).closest(".form-table").find(".edit-email").attr("href",t)}),$(document).on("click",".add-email",function(e){wpghEmailElement.target=$(this).closest(".postbox"),wpghEmailElement.addingEmail=!0,wpghEmailElement.editingEmail=!1}),$(document).on("click",".edit-email",function(e){wpghEmailElement.target=$(this).closest(".postbox"),wpghEmailElement.addingEmail=!1,wpghEmailElement.editingEmail=!0}),$(document).on("click",".popup-save",function(i){if(wpghEmailElement.addingEmail||wpghEmailElement.editingEmail){if(!wpghEmailElement.changesSaved&&!confirm(e.dontSaveChangesMsg))throw new Error("Unsaved changes!");wpghEmailElement.addingEmail&&wpghEmailElement.target.find(".add-email-override").val(wpghEmailElement.ID),wpghEmailElement.addingEmail=!1,wpghEmailElement.editingEmail=!1}})}},$(function(){wpghEmailElement.init()})}(jQuery,wpghEmailsBase);