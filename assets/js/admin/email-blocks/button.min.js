var ButtonBlock={};!function($,t,n){$.extend(n,{blockType:"button",text:null,link:null,color:null,textColor:null,align:null,font:null,size:null,init:function(){var n=this;this.text=$("#button-text"),this.text.on("keydown change",function(n){t.getActive().find("a").text($(this).val())}),this.link=$("#button-link"),this.link.on("change input",function(n){t.getActive().find("a").attr("href",$(this).val())}),this.color=$("#button-color"),this.color.wpColorPicker({change:function(i,o){t.getActive().find(".email-button").attr("bgcolor",n.color.val())}}),this.textColor=$("#button-text-color"),this.textColor.wpColorPicker({change:function(i,o){t.getActive().find("a")[0].style.color=n.textColor.val()}}),this.font=$("#button-font"),this.font.on("change",function(n){t.getActive().find("a").css("font-family",$(this).val())}),this.size=$("#button-size"),this.size.on("change",function(n){t.getActive().find("a").css("font-size",$(this).val()+"px")}),this.align=$("#button-align"),this.align.on("change",function(n){t.getActive().find("table").css({"margin-right":0,"margin-left":0});t.getActive().find("td").attr("align",$(this).val())}),$(document).on("madeActive",function(t,i,o){n.blockType===o&&n.parse(i)})},parse:function(t){this.link.val(t.find("a").attr("href")),this.text.val(t.find("a").text()),this.font.val(t.find("a").css("font-family").replace(/"/g,"")),this.size.val(t.find("a").css("font-size").replace("px","")),this.align.val(t.find("td").attr("align"))}}),$(function(){n.init()})}(jQuery,EmailEditor,ButtonBlock);