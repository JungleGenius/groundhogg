var wpghTextBlock;wpghEmailEditor=wpghEmailEditor||{},function($,t){wpghTextBlock={blockType:"text",pFont:null,pSize:null,h1Font:null,h1Size:null,h2Font:null,h2Size:null,richText:null,init:function(){this.pFont=$("#p-font"),this.pFont.on("change",function(i){t.getActive().find(".simple-editor-content").css("font-family",$(this).val())}),this.pSize=$("#p-size"),this.pSize.on("change",function(i){t.getActive().find(".simple-editor-content").css("font-size",$(this).val()+"px")}),this.h1Font=$("#h1-font"),this.h1Font.on("change",function(i){t.getActive().find("h1").css("font-family",$(this).val())}),this.h1Size=$("#h1-size"),this.h1Size.on("change",function(i){t.getActive().find("h1").css("font-size",$(this).val()+"px")}),this.h2Font=$("#h2-font"),this.h2Font.on("change",function(i){t.getActive().find("h2").css("font-family",$(this).val())}),this.h2Size=$("#h2-size"),this.h2Size.on("change",function(i){t.getActive().find("h2").css("font-size",$(this).val()+"px")}),$(document).on("madeActive",function(t,i,e){wpghTextBlock.destroyEditor(),wpghTextBlock.blockType===e&&wpghTextBlock.parse(i)}),$(document).on("madeInactive",function(t){wpghTextBlock.destroyEditor()}),$(document).on("duplicateBlock",function(t){wpghTextBlock.destroyEditor()})},createEditor:function(){this.richText=t.getActive().find(".content-wrapper"),this.richText.simpleEditor({defaultParagraphSeparator:"p",actions:["bold","italic","underline","color","strikethrough","responsiveAlign","alignLeft","alignCenter","alignRight","alignJustify","responsiveHeadings","heading1","heading2","olist","ulist","paragraph","link","unlink"]}),this.placeActionBar(),$(document).scroll(function(t){wpghTextBlock.placeActionBar()})},placeActionBar:function(){var t,i,e=$(".simple-editor-actionbar");e.width($("#email-body").width()),wpghEmailEditor.inFrame()?(i=0,t=0):(t=32,i=160),window.pageYOffset>$("#editor").offset().top-(48+t)?(e.css("position","fixed"),e.css("top",46+t+"px"),e.css("left",291+i+"px")):(e.css("position","absolute"),e.css("top",$("#editor").offset().top-t),e.css("left","291px"))},destroyEditor:function(){this.richText&&(this.richText.simpleEditor().destroy(),this.richText=null)},parse:function(t){this.createEditor(),this.pFont.val(t.find(".simple-editor-content").css("font-family").replace(/"/g,"")),this.pSize.val(t.find(".simple-editor-content").css("font-size").replace("px",""));try{this.h1Font.val(t.find("h1").css("font-family").replace(/"/g,""))}catch(t){}try{this.h1Size.val(t.find("h1").css("font-size").replace("px",""))}catch(t){}try{this.h2Font.val(t.find("h2").css("font-family").replace(/"/g,""))}catch(t){}try{this.h2Size.val(t.find("h2").css("font-size").replace("px",""))}catch(t){}}},$(function(){wpghTextBlock.init()})}(jQuery,wpghEmailEditor);