var TextBlock={};!function($,t,i){$.extend(i,{blockType:"text",pFont:null,pSize:null,h1Font:null,h1Size:null,h2Font:null,h2Size:null,editor:null,init:function(){var i=this;this.pFont=$("#p-font"),this.pFont.on("change",function(i){t.getActive().find("p").parent().css("font-family",$(this).val())}),this.pSize=$("#p-size"),this.pSize.on("change",function(i){t.getActive().find("p").parent().css("font-size",$(this).val()+"px")}),this.h1Font=$("#h1-font"),this.h1Font.on("change",function(i){t.getActive().find("h1").css("font-family",$(this).val())}),this.h1Size=$("#h1-size"),this.h1Size.on("change",function(i){t.getActive().find("h1").css("font-size",$(this).val()+"px")}),this.h2Font=$("#h2-font"),this.h2Font.on("change",function(i){t.getActive().find("h2").css("font-family",$(this).val())}),this.h2Size=$("#h2-size"),this.h2Size.on("change",function(i){t.getActive().find("h2").css("font-size",$(this).val()+"px")}),$(document).on("madeActive",function(t,n,e){i.blockType===e&&i.parse(n)})},setupEditor:function(){var i=this;i.editor=tinyMCE.get("text-content"),i.editor.on("change input",function(){t.getActive().find("p").parent().html(i.editor.getContent()),i.parse(t.getActive(),!1)})},parse:function(t,i=!0){this.editor||this.setupEditor(),i&&this.editor.setContent(t.find("p").parent().html()),this.pFont.val(t.find("p").parent().css("font-family").replace(/"/g,"")),this.pSize.val(t.find("p").parent().css("font-size").replace("px",""));try{this.h1Font.val(t.find("h1").css("font-family").replace(/"/g,""))}catch(t){}try{this.h1Size.val(t.find("h1").css("font-size").replace("px",""))}catch(t){}try{this.h2Font.val(t.find("h2").css("font-family").replace(/"/g,""))}catch(t){}try{this.h2Size.val(t.find("h2").css("font-size").replace("px",""))}catch(t){}}}),$(function(){i.init()})}(jQuery,EmailEditor,TextBlock);