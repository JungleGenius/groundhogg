var wpghImageBlock;wpghEmailEditor=wpghEmailEditor||{},function($,i){wpghImageBlock={blockType:"image",src:null,alt:null,title:null,width:null,align:null,link:null,init:function(){this.src=$("#image-src"),this.src.on("change",function(t){i.getActive().find("img").attr("src",$(this).val())}),this.alt=$("#image-alt"),this.alt.on("change",function(t){i.getActive().find("img").attr("alt",$(this).val())}),this.width=$("#image-width"),this.width.on("change",function(t){i.getActive().find("img").css("width",$(this).val()+"%"),i.getActive().find("img").attr("width",i.getActive().find("img").width())}),this.title=$("#image-title"),this.title.on("change",function(t){i.getActive().find("img").attr("title",$(this).val())}),this.align=$("#image-align"),this.align.on("change",function(t){i.getActive().find(".image-wrapper").css("text-align",$(this).val())}),this.link=$("#image-link"),this.link.on("change",function(t){i.getActive().find("a").attr("href",$(this).val())}),$(document).on("madeActive",function(i,t,n){wpghImageBlock.blockType===n&&wpghImageBlock.parse(t)})},parse:function(i){this.src.val(i.find("img").attr("src")),this.alt.val(i.find("img").attr("alt")),this.title.val(i.find("img").attr("title")),this.align.val(i.find(".image-wrapper").css("text-align")),this.width.val(Math.ceil(i.find("img").width()/i.find("img").closest("div").width()*100)),this.link.val(i.find("a").attr("href"))}},$(function(){wpghImageBlock.init()})}(jQuery,wpghEmailEditor);