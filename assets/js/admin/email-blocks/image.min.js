var ImageBlock={};!function($,i,t){$.extend(t,{blockType:"image",src:null,alt:null,title:null,width:null,align:null,link:null,init:function(){var t=this;this.src=$("#image-src"),this.src.on("change",function(t){i.getActive().find("img").attr("src",$(this).val())}),this.alt=$("#image-alt"),this.alt.on("change",function(t){i.getActive().find("img").attr("alt",$(this).val())}),this.width=$("#image-width"),this.width.on("change input",function(t){var n=$(this).val()/100*566;i.getActive().find("img").css("width",n+"px"),i.getActive().find("img").attr("width",i.getActive().find("img").width()),i.getActive().find("img").css("max-width","100%")}),this.title=$("#image-title"),this.title.on("change",function(t){i.getActive().find("img").attr("title",$(this).val())}),this.align=$("#image-align"),this.align.on("change",function(t){i.getActive().find(".image-wrapper").css("text-align",$(this).val())}),this.link=$("#image-link"),this.link.on("change",function(t){i.getActive().find("a").attr("href",$(this).val())}),$(document).on("madeActive",function(i,n,a){t.blockType===a&&t.parse(n)})},parse:function(i){this.src.val(i.find("img").attr("src")),this.alt.val(i.find("img").attr("alt")),this.title.val(i.find("img").attr("title")),this.align.val(i.find(".image-wrapper").css("text-align")),this.width.val(Math.ceil(i.find("img").width()/i.find("img").closest("div").width()*100)),this.link.val(i.find("a").attr("href"))}}),$(function(){t.init()})}(jQuery,EmailEditor,ImageBlock);