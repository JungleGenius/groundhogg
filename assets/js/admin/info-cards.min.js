(function($){const{uuid:uuid,loadingDots:loadingDots}=Groundhogg.element;const InfoCard=(id=uuid(),{title:title=()=>{},content:content=()=>{},onMount:onMount=()=>{},preload:preload=()=>{},isOpen:isOpen=true,priority:priority=10})=>({id:id,title:title,content:content,onMount:onMount,isOpen:isOpen,priority:priority,preload:preload,render:function(item){const{id:id,title:title,content:content,isOpen:isOpen}=this;return`
		  <div id="${id}" class="gh-info-card ${isOpen?"open":"closed"}">
			  <div class="gh-info-card-header">
				  <button class="gh-info-card-toggle"></button>
				  <div class="gh-info-card-title">
					  ${title(item)}
				  </div>
			  </div>
			  <div class="gh-info-card-content">
				  ${content(item)}
			  </div>
		  </div>`},mount:function($el,item){if($el.find(`#${this.id}`).length){$el.find(`#${this.id}`).replaceWith(this.render(item))}else{$el.append(this.render(item))}$(`#${this.id} .gh-info-card-header`).on("click",e=>{if($(`#${this.id}`).is(".closed")){this.open($el,item)}else{this.close($el,item)}});this.onMount()},open:function(...args){this.isOpen=true;this.mount(...args)},close:function(...args){this.isOpen=false;this.mount(...args)}});const InfoCardProvider=({cards:cards=[]})=>({cards:cards,preload:function(item){const promises=[];this.cards.forEach(card=>{let p=card.preload(item);if(!p){return}if(Array.isArray(p)&&p.length>0){promises.push(...p)}else{promises.push(p)}});return Promise.all(promises)},mount:async function(el,item){await this.preload(item);const $el=$(el);$el.addClass("gh-info-card-provider");$el.html("");this.cards.sort((a,b)=>a.priority-b.priority).forEach(card=>card.mount($el,item));console.log(this.cards);$el.sortable({placeholder:"gh-info-card-provider",start:(e,ui)=>{ui.placeholder.height(ui.item.height());ui.placeholder.width(ui.item.width())},update:(e,ui)=>{}}).disableSelection()},registerCard:function(card){this.cards.push(card)}});Groundhogg.utils={...Groundhogg.utils,InfoCard:InfoCard,InfoCardProvider:InfoCardProvider}})(jQuery);