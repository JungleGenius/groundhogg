const path=require("path"),webpack=require("webpack"),ExtractTextPlugin=require("extract-text-webpack-plugin"),blocksCSSPlugin=new ExtractTextPlugin({filename:"./assets/css/blocks.style.css"}),editBlocksCSSPlugin=new ExtractTextPlugin({filename:"./assets/css/blocks.editor.css"}),extractConfig={use:[{loader:"raw-loader"},{loader:"postcss-loader",options:{plugins:[require("autoprefixer")]}},{loader:"sass-loader",query:{outputStyle:"production"===process.env.NODE_ENV?"compressed":"nested"}}]};module.exports={entry:{"./assets/js/editor.blocks":"./blocks/index.js"},output:{path:path.resolve(__dirname),filename:"[name].js"},watch:!0,devtool:"cheap-eval-source-map",module:{rules:[{test:/\.js$/,exclude:/(node_modules|bower_components)/,use:{loader:"babel-loader"}},{test:/style\.s?css$/,use:blocksCSSPlugin.extract(extractConfig)},{test:/editor\.s?css$/,use:editBlocksCSSPlugin.extract(extractConfig)}]},plugins:[blocksCSSPlugin,editBlocksCSSPlugin]};